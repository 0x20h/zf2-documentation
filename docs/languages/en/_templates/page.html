{% extends "!page.html" %}

{% block extrahead %}
<script type="text/javascript">

    // Store editor pop-up help state in localStorage
    // so it does not re-pop-up itself between page loads.
    // Do not even to pretend to support IE gracefully.
    (function($) {

        $(document).ready(function() {
            var box = $("#editor-trap");
            var klass = "toggled";
            var storageKey = "toggled";

            function toggle() {
                box.toggleClass(klass);
                // Store the toggle status in local storage as "has value string" or null
                window.localStorage.setItem(storageKey, box.hasClass(klass) ? "toggled" : "not-toggled");
            }

            box.click(toggle);

            // Check the persistent state of the editor pop-up
            // Note that localStorage does not necessarily support boolean values (ugh!)
            // http://stackoverflow.com/questions/3263161/cannot-set-boolean-values-in-localstorage
            var v = window.localStorage.getItem(storageKey);
            if(v == "toggled" || !v) {
                box.addClass(klass);
            }

        });

    })(jQuery);
</script>
<style type="text/css">
    /* Styles for floating Edit on GitHub box */
    #editor-trap {
        padding: 1em;
        border: 1px solid white;
        width: 170px;

        color: white;
        background: #11303D;
        position: fixed;
        bottom: 1em;
        left: 1em;
        font-size: 90%;
        text-align: left;
        z-index: 2;

        box-shadow: 0 4px 6px #333;
        -moz-box-shadow: 0 4px 6px #333;
        -webkit-box-shadow: 0 4px 6px #333;


        cursor: pointer;
    }

    #editor-trap h3 {
        margin: 0 0 0.5em 0;
        padding: 0;
    }

    #editor-trap h3 > span {
        padding: 0 6px;
        border: solid white;
        border-width: 0 1px 4px 1px;
        font-size: 10px;
    }

    #editor-trap a {
        color: #98DBCC;
    }

    #editor-trap ol {
        margin: 0;
        padding: 0 0 0 2em;
    }

    /* Hide trick */
    #editor-trap.toggled > * {
        display: none;
    }


    #editor-trap.toggled > h3 {
        display: block;
    }

    #editor-trap.toggled > h3 > span {
        border-width: 6px 1px 0 1px;
    }
</style>
{% endblock %}

{#

Add Editor Help Pop Up HTML.

Enable Analytics tracking on the docs.


#}
{% block footer %}
{{ super() }}

<div id="editor-trap">
    <h3>Edit this document <span>&nbsp;</span></h3>

    <p>
        The source code of this file is hosted on GitHub. Everyone can
        update and fix errors in this document with few clicks -
        no downloads needed.
    <p>

    <ol>

        <li>
            Go to
            <a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/{{ pagename }}.rst">
                {{ title }}
            </a> on GitHub.
        </li>

        <li>
            Edit file contents using GitHub's text editor in your web browser
        </li>

        <li>
            Fill in the <b>Commit message</b> text box at the end of the page telling <i>why</i>
            you did the changes. Press <b>Propose file change</b> button next to it when done.
        </li>


        <li>
            On <i>Send a pull request</i> page you don't need to fill in text anymore. Just
            press <b>Send pull request</b> button.
        </li>

        <li>
            Your changes are now queued for review under project's <a href="https://github.com/zendframework/zf2-documentation/pulls">Pull requests</a> tab on GitHub.
        </li>
    </ol>

</div>

{% endblock %}